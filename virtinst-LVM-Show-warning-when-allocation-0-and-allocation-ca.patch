From 189a592170c301e15ae10a8c67ced5bdccce66aa Mon Sep 17 00:00:00 2001
From: Giuseppe Scrivano <gscrivan@redhat.com>
Date: Fri, 6 Dec 2013 13:59:51 +0100
Subject: [PATCH 04/10] LVM: Show warning when allocation == 0 and allocation
 != capacity

RHEL only.

commit aff0ddb2594cea6d0683659e059e4f3a35f0437e fixes this problem
upstream as a side effect of a refactoring.

Closes: https://bugzilla.redhat.com/show_bug.cgi?id=1000980

Signed-off-by: Giuseppe Scrivano <gscrivan@redhat.com>
---
 virtinst/Storage.py | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

diff --git a/virtinst/Storage.py b/virtinst/Storage.py
index c9cb78e..56a19ad 100644
--- a/virtinst/Storage.py
+++ b/virtinst/Storage.py
@@ -1350,7 +1350,7 @@ class LogicalVolume(StorageVolume):
 
     def __init__(self, name, capacity, pool=None, pool_name=None, conn=None,
                  allocation=None, perms=None):
-        if allocation and allocation != capacity:
+        if allocation is not None and allocation != capacity:
             raise ValueError(_("Sparse logical volumes are not supported, "
                                "allocation must be equal to capacity"))
         StorageVolume.__init__(self, name=name, pool=pool, pool_name=pool_name,
-- 
1.8.5.3

