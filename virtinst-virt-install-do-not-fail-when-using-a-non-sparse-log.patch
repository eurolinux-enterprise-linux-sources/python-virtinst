From b28e202d4d68fb85b642f46634ac9eb71427fee3 Mon Sep 17 00:00:00 2001
From: Giuseppe Scrivano <gscrivan@redhat.com>
Date: Thu, 26 Feb 2015 10:41:08 +0100
Subject: [PATCH 2/3] virt-install: do not fail when using a non-sparse logical
 volume

RHEL-only

Closes: https://bugzilla.redhat.com/show_bug.cgi?id=1167998

Signed-off-by: Giuseppe Scrivano <gscrivan@redhat.com>
---
 virtinst/cli.py | 3 +--
 1 file changed, 1 insertion(+), 2 deletions(-)

diff --git a/virtinst/cli.py b/virtinst/cli.py
index 43ae73f..311c6c5 100644
--- a/virtinst/cli.py
+++ b/virtinst/cli.py
@@ -1476,8 +1476,7 @@ def _parse_disk_source(guest, path, pool, vol, size, fmt, sparse):
                                                               name=guest.name,
                                                               suffix=".img")
         volinst = vc(pool_name=pool, name=vname, conn=guest.conn,
-                     allocation=0, capacity=(size and
-                                             size * 1024 * 1024 * 1024))
+                     capacity=(size and size * 1024 * 1024 * 1024))
         if fmt:
             if not hasattr(volinst, "format"):
                 raise ValueError(_("Format attribute not supported for this "
-- 
2.1.0

